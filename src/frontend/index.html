<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GreekTax (Unofficial)</title>
    <link rel="stylesheet" href="./assets/styles/main.css" />
  </head>
  <body>
    <header class="no-print">
      <h1>GreekTax</h1>
      <p class="tagline" data-i18n-key="ui.tagline">
        Unofficial tax estimation toolkit for Greece
      </p>
    </header>

    <main>
      <section id="app-intro" class="card">
        <h2 data-i18n-key="ui.overview_heading">Overview</h2>
        <p data-i18n-key="ui.overview_description">
          Estimate annual income taxes for Greece across employment, freelance,
          rental, and investment categories. Select a tax year, choose your
          language, and provide the income figures relevant to your situation to
          receive a bilingual breakdown of obligations.
        </p>
        <p class="disclaimer" data-i18n-key="ui.disclaimer">
          Disclaimer: This tool is unofficial and provided as-is without data
          storage. Please consult a professional accountant for formal filings.
        </p>
      </section>

      <section
        id="language-preview"
        class="card no-print"
        aria-labelledby="language-preview-title"
      >
        <h2 id="language-preview-title" data-i18n-key="preview.heading">
          Preview localisation
        </h2>
        <p data-i18n-key="preview.description">
          Choose your preferred language and request a sample calculation to see
          the backend translations in action. The preview uses demo data only.
        </p>
        <form id="locale-form" class="stack" novalidate>
          <div class="form-control">
            <label for="locale-select" data-i18n-key="preview.locale_label">
              Language
            </label>
            <select id="locale-select" name="locale">
              <option value="en">English</option>
              <option value="el">Ελληνικά</option>
            </select>
          </div>
          <button
            type="button"
            id="preview-button"
            class="button"
            data-i18n-key="preview.button"
          >
            Preview calculation
          </button>
        </form>
        <div class="preview-output" aria-live="polite">
          <p id="preview-status">No preview requested yet.</p>
          <pre id="preview-json" hidden></pre>
        </div>
      </section>

      <section id="calculator" class="card" aria-labelledby="calculator-title">
        <h2 id="calculator-title" data-i18n-key="calculator.heading">
          Tax calculator
        </h2>
        <form id="calculator-form" novalidate>
          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.year_household">
              Year and household
            </legend>
            <div class="form-grid double">
              <div class="form-control">
                <label
                  for="year-select"
                  data-i18n-key="fields.year-select"
                >
                  Tax year
                </label>
                <select id="year-select" name="year"></select>
              </div>
              <div class="form-control">
                <label
                  for="children-input"
                  data-i18n-key="fields.children-input"
                >
                  Dependent children
                </label>
                <input
                  id="children-input"
                  name="dependents.children"
                  type="number"
                  min="0"
                  step="1"
                  value="0"
                />
              </div>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.employment_pension">
              Employment &amp; pension income
            </legend>
            <div class="form-grid double">
              <div class="form-control">
                <label
                  for="employment-income"
                  data-i18n-key="fields.employment-income"
                >
                  Employment gross income (€)
                </label>
                <input
                  id="employment-income"
                  name="employment.gross_income"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label
                  for="pension-income"
                  data-i18n-key="fields.pension-income"
                >
                  Pension gross income (€)
                </label>
                <input
                  id="pension-income"
                  name="pension.gross_income"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.freelance">
              Freelance income
            </legend>
            <div class="form-grid double">
              <div class="form-control">
                <label
                  for="freelance-revenue"
                  data-i18n-key="fields.freelance-revenue"
                >
                  Gross revenue (€)
                </label>
                <input
                  id="freelance-revenue"
                  name="freelance.gross_revenue"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label
                  for="freelance-expenses"
                  data-i18n-key="fields.freelance-expenses"
                >
                  Deductible expenses (€)
                </label>
                <input
                  id="freelance-expenses"
                  name="freelance.deductible_expenses"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label
                  for="freelance-contributions"
                  data-i18n-key="fields.freelance-contributions"
                >
                  Mandatory social contributions (€)
                </label>
                <input
                  id="freelance-contributions"
                  name="freelance.mandatory_contributions"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <span class="inline-field">
                  <input
                    id="trade-fee-toggle"
                    type="checkbox"
                    name="freelance.include_trade_fee"
                    checked
                  />
                  <label
                    for="trade-fee-toggle"
                    data-i18n-key="fields.trade-fee-toggle"
                  >
                    Include business activity fee
                  </label>
                </span>
              </div>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.rental">
              Rental income
            </legend>
            <div class="form-grid double">
              <div class="form-control">
                <label
                  for="rental-income"
                  data-i18n-key="fields.rental-income"
                >
                  Gross rental income (€)
                </label>
                <input
                  id="rental-income"
                  name="rental.gross_income"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label
                  for="rental-expenses"
                  data-i18n-key="fields.rental-expenses"
                >
                  Deductible expenses (€)
                </label>
                <input
                  id="rental-expenses"
                  name="rental.deductible_expenses"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.investment">
              Investment income
            </legend>
            <div id="investment-fields" class="form-grid double"></div>
          </fieldset>

          <fieldset class="fieldset">
            <legend data-i18n-key="calculator.legends.obligations">
              Additional obligations
            </legend>
            <div class="form-grid double">
              <div class="form-control">
                <label for="vat-due" data-i18n-key="fields.vat-due">
                  VAT due (€)
                </label>
                <input
                  id="vat-due"
                  name="obligations.vat"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label for="enfia-due" data-i18n-key="fields.enfia-due">
                  ENFIA amount (€)
                </label>
                <input
                  id="enfia-due"
                  name="obligations.enfia"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
              <div class="form-control">
                <label for="luxury-due" data-i18n-key="fields.luxury-due">
                  Luxury living tax (€)
                </label>
                <input
                  id="luxury-due"
                  name="obligations.luxury"
                  type="number"
                  min="0"
                  step="0.01"
                  value="0"
                />
              </div>
            </div>
          </fieldset>

          <div class="actions">
            <button
              type="submit"
              class="button"
              id="calculate-button"
              data-i18n-key="actions.calculate"
            >
              Calculate taxes
            </button>
            <button
              type="button"
              class="button secondary"
              id="download-button"
              data-i18n-key="actions.download"
              disabled
            >
              Download summary (JSON)
            </button>
            <button
              type="button"
              class="button secondary"
              id="download-csv-button"
              data-i18n-key="actions.download_csv"
              disabled
            >
              Download summary (CSV)
            </button>
            <button
              type="button"
              class="button secondary"
              id="download-pdf-button"
              data-i18n-key="actions.download_pdf"
              disabled
            >
              Download summary (PDF)
            </button>
            <button
              type="button"
              class="button ghost"
              id="share-button"
              data-i18n-key="actions.share"
              disabled
            >
              Open shareable summary
            </button>
            <button
              type="button"
              class="button ghost"
              id="print-button"
              data-i18n-key="actions.print"
              disabled
            >
              Print summary
            </button>
          </div>
          <div class="share-output no-print">
            <label for="share-link" data-i18n-key="share.link_label">
              Shareable link
            </label>
            <div class="share-link-row">
              <input
                id="share-link"
                type="text"
                readonly
                placeholder="https://example.com/share/..."
                data-i18n-placeholder="share.link_placeholder"
              />
              <button
                type="button"
                class="button ghost"
                id="copy-share-link-button"
                data-i18n-key="share.copy"
                disabled
              >
                Copy link
              </button>
            </div>
          <p
            class="share-expiry"
            id="share-expiry"
            data-i18n-key="share.expiry_notice"
          >
            Share links remain available for 24 hours.
          </p>
          <div class="share-feedback" id="share-feedback" hidden>
            <p data-i18n-key="share.feedback_prompt">Was the expiry message clear?</p>
            <div class="share-feedback-actions" role="group">
              <button
                type="button"
                class="button ghost"
                data-feedback="clear"
                data-i18n-key="share.feedback_clear"
              >
                Yes, it was clear
              </button>
              <button
                type="button"
                class="button ghost"
                data-feedback="unclear"
                data-i18n-key="share.feedback_unclear"
              >
                No, it needs work
              </button>
            </div>
            <label for="share-feedback-notes" data-i18n-key="share.feedback_notes_label">
              Optional feedback
            </label>
            <textarea
              id="share-feedback-notes"
              rows="2"
              data-i18n-placeholder="share.feedback_notes_placeholder"
            ></textarea>
            <button
              type="button"
              class="button ghost"
              id="share-feedback-submit"
              data-i18n-key="share.feedback_submit"
              disabled
            >
              Send feedback
            </button>
            <p class="share-feedback-status" id="share-feedback-status" aria-live="polite"></p>
          </div>
        </div>
        <p id="calculator-status" aria-live="polite"></p>
      </form>

        <section id="calculation-results" hidden aria-live="polite">
          <h3 data-i18n-key="calculator.results_heading">Results</h3>
          <div class="summary-grid" id="summary-grid"></div>
          <div class="details-list" id="details-list"></div>
        </section>
      </section>
    </main>

    <script src="./assets/scripts/main.js" defer></script>
  </body>
</html>
